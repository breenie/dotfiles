#!/usr/bin/env bash

# Make sure we’re using the latest Homebrew
brew update

# Upgrade any already-installed formulae
brew upgrade

# Install GNU core utilities (those that come with OS X are outdated)
brew install coreutils
echo "Don’t forget to add $(brew --prefix coreutils)/libexec/gnubin to \$PATH."
# Install GNU `find`, `locate`, `updatedb`, and `xargs`, g-prefixed
brew install findutils
# Install Bash 4
brew install bash

# Install wget with IRI support
brew install wget --enable-iri

# Install more recent versions of some OS X tools
brew tap homebrew/dupes
brew install homebrew/dupes/grep
brew tap josegonzalez/homebrew-php
brew install composer
brew install php54 php54-imagick php54-intl php54-twig php54-xdebug php54-apc php54-mcrypt php54-oauth php54-amqp

# These two formulae didn’t work well last time I tried them:
#brew install homebrew/dupes/vim
#brew install homebrew/dupes/screen

# Install everything else
brew install ack
#brew install exiv2
brew install git
#brew install imagemagick
brew install lynx
#brew install node
#brew install rename
#brew install rhino
#brew install tree
#brew install webkit2png

# Bugs in brew cask prevent this from playing nicely, I'll hide it for now
# Install native apps
#brew tap phinze/homebrew-cask
#brew install brew-cask
#
#function installcask() {
#	if brew cask info "${@}" | grep "Not installed" > /dev/null; then
#		brew cask install "${@}"
#	else
#		echo "${@} is already installed."
#	fi
#}
#
#installcask dropbox
#installcask google-chrome-canary
#installcask google-chrome
##installcask imagealpha
##installcask imageoptim
##installcask miro-video-converter
#installcask virtualbox
#installcask app-cleaner
#installcask phpstorm
#installcask vlc
#installcask skype
#installcask sourcetree
#installcask vagrant

# Remove outdated versions from the cellar
brew cleanup